import{u as e}from"./index.c97ee545.js";import{A as t,r as a,o as n,c as s,h as o,t as r,d as l,F as m,f as i,a as p,e as c}from"./vendor.0be631b2.js";var u={name:"HomeHeader",props:{type:{default:"home"},title:{default:"工作台"}},data(){return{config:{home:[{btnName:"自定义工作台",funName:this.btn,class:"btn_sys"},{btnName:"",funName:this.btn,class:"btn_phone"},{btnName:"",funName:this.btn,class:"btn_help"},{btnName:"",funName:this.btn,class:"btn_user"}],ShowForm:[{btnName:"进入应用管理",funName:this.btn,class:"btn_sysManager"},{btnName:"",funName:this.btn,class:"btn_phone"},{btnName:"",funName:this.btn,class:"btn_help"},{btnName:"",funName:this.btn,class:"btn_user"}],CreateForm:[{btnName:"进入应用系统",funName:this.btn,class:"btn_sys"},{btnName:"",funName:this.btn,class:"btn_phone"},{btnName:"",funName:this.btn,class:"btn_help"},{btnName:"",funName:this.btn,class:"btn_user"}],formConfig:[{btnName:"",funName:this.btn,class:"btn_phone"},{btnName:"",funName:this.btn,class:"btn_help"},{btnName:"",funName:this.btn,class:"btn_user"}]}}},watch:{},setup(){const a=e();return{appList:t((()=>a.state.application.appList)),appnCurrentName:t((()=>a.state.application.currentAppName)),setCurrent:e=>a.commit("setCurrentApp",e)}},mounted(){},methods:{editMenu(){var e=JSON.parse(localStorage.getItem("menuInfo"));e.menuName=this.title,localStorage.removeItem("menuInfo"),localStorage.setItem("menuInfo",JSON.stringify(e));let t=localStorage.getItem("currentAppId");var a=JSON.parse(localStorage.getItem(t));a&&a.forEach((t=>{t.id==e.id&&(t.menuName=this.title)})),localStorage.setItem(t,JSON.stringify(a))},btn(e){"btn_sysManager"==e.class&&this.$router.replace({path:"/appManager",query:{type:"CreateForm"}}),"btn_sys"==e.class&&this.$router.replace({path:"/appManager",query:{type:"ShowForm"}})},chooseSys(e){this.$jasStorage.set("currentAppId",e.id),this.$router.go(0),this.setCurrent(e)},back(){this.$confirm("请确定是否保存该表单的设计?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$router.go(-1)})).catch((()=>{}))}}};const b={class:"header"},h={key:0,class:"sys_logo"},d={class:"el-dropdown-link"},f=p("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),N={class:"header_set"};u.render=function(e,t,u,y,g,_){const C=a("el-dropdown-item"),S=a("el-dropdown-menu"),k=a("el-dropdown"),w=a("el-input");return n(),s("div",b,["home"==u.type||"CreateForm"==u.type||"ShowForm"==u.type?(n(),s("div",h,[o(r(u.title)+" ",1),"appManager"==u.type?(n(),s(k,{key:0,onCommand:_.chooseSys},{dropdown:l((()=>[(n(!0),s(m,null,i(y.appList,(e=>(n(),s(S,null,{default:l((()=>[p(C,{command:e},{default:l((()=>[o(r(e.name),1)])),_:2},1032,["command"])])),_:2},1024)))),256))])),default:l((()=>[p("span",d,[o(r(y.appnCurrentName)+" ",1),f])])),_:1},8,["onCommand"])):c("",!0)])):c("",!0),"formConfig"==u.type?(n(),s("div",{key:1,onClick:t[1]||(t[1]=(...e)=>_.back&&_.back(...e)),class:"btn_back"})):c("",!0),"formConfig"==u.type?(n(),s(w,{key:2,modelValue:u.title,"onUpdate:modelValue":t[2]||(t[2]=e=>u.title=e),type:"size",onBlur:t[3]||(t[3]=e=>_.editMenu())},null,8,["modelValue"])):c("",!0),p("div",N,[(n(!0),s(m,null,i(g.config[u.type],(e=>(n(),s("span",{onClick:t=>e.funName(e),class:e.class},r(e.btnName),11,["onClick"])))),256))])])};export{u as _};
//# sourceMappingURL=HomeHeader.50260d0b.js.map
